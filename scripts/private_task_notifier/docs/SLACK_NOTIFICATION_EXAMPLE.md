# Slack通知例

## 通知メッセージの見た目

### 表示イメージ

```
┌───────────────────────────────────────────────────────────┐
│ 🚨 花輪 真輝のタスク通知                                    │
└───────────────────────────────────────────────────────────┘

<@U05HPC0BL3V> 以下のタスクがあります:

総件数: 8件（期限切れ: 3／今日期限: 2／今週期限: 3）

─────────────────────────────────────────────────────────────

⚠️ 期限切れのタスク（3件）

• API設計書の作成（1/25(金) +3日超過 実行中）
• 仕様レビューの実施（1/26(土) +2日超過 未着手）
• デザイン修正の反映（1/27(日) +1日超過 実行中）

─────────────────────────────────────────────────────────────

📅 今日期限のタスク（2件）

• 開発計画の提出（今日(1/28(火)) 未着手）
• テスト結果の報告（今日(1/28(火)) 実行中）

─────────────────────────────────────────────────────────────

📆 今週期限のタスク（3件）

• コードレビューの実施（明日(1/29(水)) 未着手）
• ドキュメントの更新（1/30(木) 未着手）
• リリース準備の確認（1/31(金) 実行中）

─────────────────────────────────────────────────────────────

取得日時: 2025/01/28 10:15:23（JST）
```

## 各セクションの説明

### 1. ヘッダー
- 🚨 アイコン付きのタイトル
- 花輪 真輝のタスク通知

### 2. サマリー
- メンション: `<@U05HPC0BL3V>` で本人をメンション
- 総件数と内訳:
  - 期限切れタスクの件数
  - 今日期限タスクの件数
  - 今週期限タスクの件数

### 3. 期限切れのタスク
- ⚠️ アイコン
- 各タスクの表示項目:
  - タスク名（Notionリンク）
  - 期限日（相対表記: 例「1/25(金) +3日超過」）
  - ステータス（未着手/実行中など）

### 4. 今日期限のタスク
- 📅 アイコン
- 各タスクの表示項目:
  - タスク名（Notionリンク）
  - 期限日（相対表記: 例「今日(1/28(火))」）
  - ステータス

### 5. 今週期限のタスク
- 📆 アイコン
- 各タスクの表示項目:
  - タスク名（Notionリンク）
  - 期限日（相対表記: 例「明日(1/29(水))」「1/30(木)」）
  - ステータス

### 6. フッター
- 取得日時（JST表記）

## 相対日付表記のルール

| 期間 | 表記例 | 説明 |
|------|--------|------|
| 3日以上超過 | `1/25(金) +3日超過` | 期限を過ぎて3日以上 |
| 2日超過 | `1/26(土) +2日超過` | 期限を過ぎて2日 |
| 1日超過 | `1/27(日) +1日超過` | 期限を過ぎて1日 |
| 今日 | `今日(1/28(火))` | 今日が期限 |
| 明日 | `明日(1/29(水))` | 明日が期限 |
| 明後日以降 | `1/30(木)` | 日付表記のみ |

## 件数表示の例

### タスクがない場合
```
⚠️ 期限切れのタスク（0件）
対象タスクがありません
```

### タスクが1件の場合
```
⚠️ 期限切れのタスク（1件）
• API設計書の作成（1/25(金) +3日超過 実行中）
```

### タスクが5件以上の場合
```
⚠️ 期限切れのタスク（8件）
• タスク名1（1/25(金) +3日超過 実行中）
• タスク名2（1/26(土) +2日超過 未着手）
• タスク名3（1/27(日) +1日超過 実行中）
• タスク名4（1/25(金) +3日超過 完了）
• タスク名5（1/26(土) +2日超過 未着手）
...他3件
```

## JSON形式（参考）

実際のSlack APIに送信するJSON形式は以下の通り：

```json
{
  "blocks": [
    {
      "type": "header",
      "text": {
        "type": "plain_text",
        "text": "🚨 花輪 真輝のタスク通知"
      }
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "<@U05HPC0BL3V> 以下のタスクがあります:\n\n総件数: 8件（期限切れ: 3／今日期限: 2／今週期限: 3）"
      }
    },
    {
      "type": "divider"
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "⚠️ *期限切れのタスク（3件）*\n• <https://notion.so/xxx|API設計書の作成>（1/25(金) +3日超過 実行中）\n• <https://notion.so/yyy|仕様レビューの実施>（1/26(土) +2日超過 未着手）"
      }
    },
    {
      "type": "divider"
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "📅 *今日期限のタスク（2件）*\n• <https://notion.so/zzz|開発計画の提出>（今日(1/28(火)) 未着手）\n• <https://notion.so/aaa|テスト結果の報告>（今日(1/28(火)) 実行中）"
      }
    },
    {
      "type": "divider"
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "📆 *今週期限のタスク（3件）*\n• <https://notion.so/bbb|コードレビューの実施>（明日(1/29(水)) 未着手）\n• <https://notion.so/ccc|ドキュメントの更新>（1/30(木) 未着手）\n• <https://notion.so/ddd|リリース準備の確認>（1/31(金) 実行中）"
      }
    },
    {
      "type": "divider"
    },
    {
      "type": "context",
      "elements": [
        {
          "type": "mrkdwn",
          "text": "取得日時: 2025/01/28 10:15:23（JST）"
        }
      ]
    }
  ]
}
```

---

**作成日**: 2025年1月28日  
**作成者**: AI Assistant

